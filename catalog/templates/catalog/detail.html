{% extends "base.html" %}
{% block title %}{{ object.name }}{% endblock %}
{% block content %}
   <div class="container mt-5">
      <div class="row">
         <div class="col-lg-6">
            <div class="card shadow-sm">
               {% if object.get_original_image_url %}
                  <img src="{{ object.get_original_image_url }}"
                       class="card-img-top rounded"
                       alt="{{ object.name }}"
                       style="object-fit: cover;
                              max-height: 400px">
               {% else %}
                  {% load static %}
                  <img src="{% static 'catalog/images/placeholder-detail.png' %}"
                       class="card-img-top rounded"
                       alt="Нет изображения"
                       style="object-fit: cover;
                              max-height: 400px">
                  <div class="card-body">
                     <p class="card-text text-muted">Изображение отсутствует</p>
                  </div>
               {% endif %}
            </div>
         </div>
         <div class="col-lg-6">
            <div class="p-4">
               <h1 class="display-4">{{ object.name }}</h1>
               <p class="lead">
                  <strong>Артикул:</strong> {{ object.article }}
               </p>
               <h4 class="mb-3">
                  <strong>Цена:</strong> <span class="badge bg-success">{{ object.sale_price }} руб.</span>
               </h4>
               {% if object.description %}
                  <div class="mt-4">
                     <h4 class="mb-3">Описание</h4>
                     <p class="lead">{{ object.description }}</p>
                  </div>
               {% endif %}
               <button class="btn btn-primary btn-lg mt-3" id="buy-button">
                  <i class="bi bi-cart-plus me-2"></i> Купить
               </button>
            </div>
         </div>
      </div>
   </div>
   {% block extra_js %}
      <script>
            document.getElementById('buy-button').addEventListener('click', function () {
                alert('Товар "{{ object.name }}" добавлен в корзину!');
                // Здесь можно добавить логику AJAX-запроса к бэкенду
            });
      </script>
   {% endblock %}
{% endblock %}
